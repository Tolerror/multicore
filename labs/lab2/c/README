Start with the C program in Lab 0

On Power you can measure time with a special register that can be accessed using timebase.c and tbr.s

Do as follows:

#include "timebase.h" in your C program.

Initialize in main() with:

	init_timebase();

and measure with:

	begin = timebase_sec();
	f = preflow();
	end = timebase_sec();

	printf("t = %lf s\n", end-begin);

where begin and end should have type double.



# Notes

pthread_cond_wait()
pthread_mutex_lock()
pthread_mutex_unlock()
pthread_mutex_destroy() to free resources

wait in while loops to prevent spurious wake ups but also to check condition again if still true

Can use pthread_barrier_wait() to wait on x number of threads
pthread_barrier_destroy() to free barrier resources afterwards
